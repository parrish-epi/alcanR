% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/SvyIncProp.R
\name{svyIncProp}
\alias{svyIncProp}
\title{Function for calculating the Incidence Proportion}
\usage{
svyIncProp(
  SurveyDesign = NULL,
  event = NULL,
  eventime = NULL,
  bystrata1 = NULL,
  bystrata2 = NULL,
  nreps = 100
)
}
\arguments{
\item{SurveyDesign}{Required - a svydesign object created using the survey or srvyr packages.}

\item{event}{Required - the name of the event outcome, coded as 0 = no event, 1 = event.}

\item{eventime}{Required - decimal time to end point at time (t). This is decimal age in days from birth to
event outcome (e.g., first report to OCS), censor (e.g., death or moved out of state),
or administrative censoring (e.g., end of observation period).}

\item{bystrata1}{Optional - strata to calculate the incidence proportion by (e.g., by sex).}

\item{bystrata2}{Optional - Second strata classification to calculate the incidence proportion
by (e.g., by sex and race).}

\item{nreps}{Default = 100. Number of bootstrap replications. Increase for small values if
needed and decrease for large if taking a long time to run.#' @description This method for calculating the se is based on the approach suggested by
Dr. Lumley using replicate weights. The reason is that the method using ci == TRUE within svykm()
uses an extensive amount of memory for "larger" data sets. This solves that issue and
returns estimates that are similar to his original method. If comparing to the original method it is
important to note that Lumley uses an Aalen (hazard-based) estimator not the Kaplan-Meier estimator.
The implications are that ties and small numbers will result in slight variations in estimates.}
}
\value{
A data frame containing the incidence proportions, standard errors, confidence intervals, and other summary statistics.
}
\description{
Function for calculating the Incidence Proportion
}
\details{
- The standard error of the incidence proportion is calculated using replicate weights on the log(survival) scale.
- The method is based on Dr. Lumley's subbootstrap approach, providing estimates similar to his original hazard-based method.
- The function handles -Inf or NaN values in replicates by excluding them, but caution is needed if a large proportion of replicates are excluded.
- Empirical estimates (mean, median, confidence intervals) from the replicates can become highly variable, especially with small samples.
- For subsets (e.g., by groups), the replicate design is derived from the full design object, except when analyzing specific years.
}
\author{
Jared Parrish, PhD; modified by Richard Trantow (changed svykm.fit to svykm_fit)
}
